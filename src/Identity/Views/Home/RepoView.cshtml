@using System.Text
@model RepoViewViewModel

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="@Model.RepoRootPath">Root</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                @for (var i = 2; i < Model.Path.Count; i++)
                {
                    var path = new StringBuilder($"{Model.RepoRootPath}/");
                    for (var j = 2; j <= i; j++)
                    {
                        path.Append(Model.Path[j] + "/");
                    }
                    path.Remove(path.Length - 1, 1);
                    <li>
                        <a href="@path.ToString()">
                            @Model.Path[i]
                        </a>
                    </li>
                }
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li class="active"><a asp-action="RepoView">Files <span class="sr-only">(current)</span></a></li>
                <li><a asp-action="RepoInfo">Info</a></li>
            </ul>
        </div>
    </div>
</nav>
<h4>
   
</h4>
<br /><br /><br />
<div class="list-group">
    @foreach (var element in Model.InnerFolders)
    {
        var path = $"{Model.FullPath}/{element}";
        <a class="list-group-item list-group-item-info" href="@path">
            @element
        </a>
    }
    @foreach (var element in Model.InnerFiles)
    {
        var path = $"{Model.FullPath}/{element}";
        <a class="list-group-item list-group-item-success disabled" href="@path">
            @element
        </a>
    }
</div>